[workspace]
members = [
    "imix",
    "golem",
    "lib/eldritch",
    "lib/tavern",
]

[workspace.dependencies]
starlark = { git = "https://github.com/facebookexperimental/starlark-rust", rev = "acf638430a00ca3855862e8c669670e1adaa42aa" }
allocative = { git = "https://github.com/facebookexperimental/starlark-rust", rev = "acf638430a00ca3855862e8c669670e1adaa42aa" }
allocative_derive = { git = "https://github.com/facebookexperimental/starlark-rust", rev = "acf638430a00ca3855862e8c669670e1adaa42aa" }
tempfile = "3.3.0"
anyhow = "1.0.65"
derive_more = "0.99.17"
sha256 = "1.0.3"
sysinfo = "0.28.4"
regex = "1.5.5"
reqwest = "0.11.0" 
httptest = "0.15.4"
tokio = "1.19.1"
async-recursion = "1.0.0"
tokio-stream = "0.1.9"
serde = "1.0"
serde_json = "1.0"
flate2 = "1.0.24"
tar = "0.4.38"
tera = "1.17.1"
gazebo = "0.8.1"
nix = "0.26.1"
eval = "0.4.3"
rust-embed = "6.6.0"
windows-sys = "0.45.0"

[profile.release]
strip = true  # Automatically strip symbols from the binary.
opt-level = "z"  # Optimize for size.
lto = true
codegen-units = 1
panic = "abort"