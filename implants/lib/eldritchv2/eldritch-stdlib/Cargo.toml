[package]
name = "eldritch-stdlib"
version = "0.3.0"
edition = "2021"

[lib]
crate-type = ["cdylib", "rlib"]

[features]
default = ["stdlib"]
fake_bindings = []
stdlib = [
    "dep:futures",
    "dep:flate2",
    "dep:tar",
    "dep:tera",
    "dep:tempfile",
    "dep:glob",
    "dep:regex",
    "dep:anyhow",
    "dep:serde_json",
    "dep:reqwest",
    "dep:tokio",
    "dep:rand",
    "dep:rand_chacha",
    "dep:uuid",
    "dep:sysinfo",
    "dep:listeners",
    "dep:aes",
    "dep:md5",
    "dep:sha1",
    "dep:sha2",
    "dep:hex-literal",
]

[dependencies]
eldritch-core = { path = "../eldritch-core" }
eldritch-macros = { path = "../eldritch-macros" }
futures = { version = "0.3", optional = true }
reqwest = { version = "0.11", default-features = false, features = [
    "blocking",
    "rustls-tls",
    "stream",
], optional = true }
tokio = { version = "1", features = ["rt", "macros"], optional = true }
lazy_static = { version = "1.5.0", features = ["spin_no_std"] }
spin = { version = "0.10.0", features = ["mutex", "spin_mutex"] }
flate2 = { workspace = true, optional = true, features = ["rust_backend"] }
tar = { workspace = true, optional = true }
tera = { workspace = true, optional = true }
tempfile = { workspace = true, optional = true }
glob = { workspace = true, optional = true }
regex = { workspace = true, optional = true }
anyhow = { workspace = true, optional = true }
serde_json = { workspace = true, optional = true }
sysinfo = { workspace = true, optional = true }
listeners = { workspace = true, optional = true }
rand = { workspace = true, optional = true }
rand_chacha = { workspace = true, optional = true }
uuid = { workspace = true, optional = true, features = ["v4", "fast-rng"] }
aes = { workspace = true, optional = true }
md5 = { workspace = true, optional = true }
sha1 = { workspace = true, optional = true }
sha2 = { workspace = true, optional = true }
hex-literal = { workspace = true, optional = true }

[dev-dependencies]
httptest = "0.16"
